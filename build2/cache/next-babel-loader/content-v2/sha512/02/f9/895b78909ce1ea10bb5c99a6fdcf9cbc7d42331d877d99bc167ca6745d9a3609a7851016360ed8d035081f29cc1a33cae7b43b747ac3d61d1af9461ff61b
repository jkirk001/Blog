{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js\",\n    _this = this;\n\nimport Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\n\nvar allPosts = function allPosts(props) {\n  var posts = props.posts;\n  var display = posts.map(function (item) {\n    return /*#__PURE__*/_jsxDEV(LinkCardRow, {\n      data: item\n    }, item._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, _this);\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: display\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, _this);\n};\n\nexport var __N_SSG = true;\nexport default allPosts;","map":{"version":3,"sources":["/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js"],"names":["Layout","LinkCardRow","allPosts","props","posts","display","map","item","_id"],"mappings":";;;;;AAAA,OAAOA,MAAP,MAAmB,gCAAnB;AACA,OAAOC,WAAP,MAAwB,sDAAxB;;AAIA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAW;AAAA,MAClBC,KADkB,GACRD,KADQ,CAClBC,KADkB;AAE1B,MAAMC,OAAO,GAAGD,KAAK,CAACE,GAAN,CAAU,UAACC,IAAD,EAAU;AAClC,wBAAO,QAAC,WAAD;AAA4B,MAAA,IAAI,EAAEA;AAAlC,OAAkBA,IAAI,CAACC,GAAvB;AAAA;AAAA;AAAA;AAAA,aAAP;AACD,GAFe,CAAhB;AAGA,sBACE,QAAC,MAAD;AAAA,2BACE;AAAA,gBAAMH;AAAN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAKD,CAVD;;;AAiCA,eAAeH,QAAf","sourcesContent":["import Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\nimport dbConnect from \"../../utils/db-connect\";\nimport Blog from \"../../Models/blogpost\";\n\nconst allPosts = (props) => {\n  const { posts } = props;\n  const display = posts.map((item) => {\n    return <LinkCardRow key={item._id} data={item} />;\n  });\n  return (\n    <Layout>\n      <div>{display}</div>\n    </Layout>\n  );\n};\n\nexport async function getStaticProps() {\n  await dbConnect();\n  const posts = await Blog.find({});\n  //stupid fix but it seems to be the one\n  //const finalPosts = JSON.parse(JSON.stringify(posts));\n\n  //?It cant parse non-seralizable data -- must expand nested objects, this is more explicit\n  const finalPosts = posts.map((item) => {\n    let finalPost = item.toObject();\n    finalPost._id = finalPost._id.toString();\n    finalPost.author.date = finalPost.author.date.toString();\n    return finalPost;\n  });\n  return {\n    props: {\n      posts: finalPosts,\n    },\n    revalidate: 10,\n  };\n}\n\nexport default allPosts;\n"]},"metadata":{},"sourceType":"module"}
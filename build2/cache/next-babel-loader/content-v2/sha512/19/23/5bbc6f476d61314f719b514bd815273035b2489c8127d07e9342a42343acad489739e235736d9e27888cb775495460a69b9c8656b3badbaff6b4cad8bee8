{"ast":null,"code":"// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nimport dbConnect from \"../../utils/db-connect-new\";\nimport Blog from \"../../Models/blogpost\";\n\nconst handler = async (req, res) => {\n  if (req.method === \"POST\") {\n    const body = JSON.parse(req.body);\n    await dbConnect();\n    Blog.insertMany(body).then(() => console.log(\"Success\")).catch(e => console.log(\"failure\"));\n    return res.json({\n      message: \"successlol\"\n    });\n  }\n\n  if (req.method === \"GET\") {\n    await dbConnect();\n    const blogs = await Blog.find({});\n    return res.json(blogs);\n  }\n\n  return res.json({\n    message: \"hi\"\n  });\n};\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}
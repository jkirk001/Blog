{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js\";\nimport Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\nimport dbConnect from \"../../utils/db-connect\";\nimport Blog from \"../../Models/blogpost\";\nimport styles from \"./allPosts.module.css\";\n\nconst allPosts = props => {\n  const {\n    posts\n  } = props;\n  const display = posts.map(item => {\n    return /*#__PURE__*/_jsxDEV(LinkCardRow, {\n      data: item\n    }, item._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"All Posts -- Newest To Oldest\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.listAll,\n      children: display\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }, this);\n};\n\nexport async function getStaticProps() {\n  await dbConnect();\n  const posts = await Blog.find({}); //stupid fix but it seems to be the one\n  //const finalPosts = JSON.parse(JSON.stringify(posts));\n  //?It cant parse non-seralizable data -- must expand nested objects, this is more explicit\n\n  const finalPosts = posts.map(item => {\n    let finalPost = item.toObject();\n    finalPost._id = finalPost._id.toString();\n    finalPost.author.date = finalPost.author.date.toString();\n    return finalPost;\n  });\n  return {\n    props: {\n      posts: finalPosts\n    },\n    revalidate: 10\n  };\n}\nexport default allPosts;","map":{"version":3,"sources":["/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js"],"names":["Layout","LinkCardRow","dbConnect","Blog","styles","allPosts","props","posts","display","map","item","_id","listAll","getStaticProps","find","finalPosts","finalPost","toObject","toString","author","date","revalidate"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,gCAAnB;AACA,OAAOC,WAAP,MAAwB,sDAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAM;AAAEC,IAAAA;AAAF,MAAYD,KAAlB;AACA,QAAME,OAAO,GAAGD,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;AAClC,wBAAO,QAAC,WAAD;AAA4B,MAAA,IAAI,EAAEA;AAAlC,OAAkBA,IAAI,CAACC,GAAvB;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GAFe,CAAhB;AAGA,sBACE,QAAC,MAAD;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAEP,MAAM,CAACQ,OAAvB;AAAA,gBAAiCJ;AAAjC;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CAXD;;AAaA,OAAO,eAAeK,cAAf,GAAgC;AACrC,QAAMX,SAAS,EAAf;AACA,QAAMK,KAAK,GAAG,MAAMJ,IAAI,CAACW,IAAL,CAAU,EAAV,CAApB,CAFqC,CAGrC;AACA;AAEA;;AACA,QAAMC,UAAU,GAAGR,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;AACrC,QAAIM,SAAS,GAAGN,IAAI,CAACO,QAAL,EAAhB;AACAD,IAAAA,SAAS,CAACL,GAAV,GAAgBK,SAAS,CAACL,GAAV,CAAcO,QAAd,EAAhB;AACAF,IAAAA,SAAS,CAACG,MAAV,CAAiBC,IAAjB,GAAwBJ,SAAS,CAACG,MAAV,CAAiBC,IAAjB,CAAsBF,QAAtB,EAAxB;AACA,WAAOF,SAAP;AACD,GALkB,CAAnB;AAMA,SAAO;AACLV,IAAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAEQ;AADF,KADF;AAILM,IAAAA,UAAU,EAAE;AAJP,GAAP;AAMD;AAED,eAAehB,QAAf","sourcesContent":["import Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\nimport dbConnect from \"../../utils/db-connect\";\nimport Blog from \"../../Models/blogpost\";\nimport styles from \"./allPosts.module.css\";\n\nconst allPosts = (props) => {\n  const { posts } = props;\n  const display = posts.map((item) => {\n    return <LinkCardRow key={item._id} data={item} />;\n  });\n  return (\n    <Layout>\n      <h2>All Posts -- Newest To Oldest</h2>\n      <div className={styles.listAll}>{display}</div>\n    </Layout>\n  );\n};\n\nexport async function getStaticProps() {\n  await dbConnect();\n  const posts = await Blog.find({});\n  //stupid fix but it seems to be the one\n  //const finalPosts = JSON.parse(JSON.stringify(posts));\n\n  //?It cant parse non-seralizable data -- must expand nested objects, this is more explicit\n  const finalPosts = posts.map((item) => {\n    let finalPost = item.toObject();\n    finalPost._id = finalPost._id.toString();\n    finalPost.author.date = finalPost.author.date.toString();\n    return finalPost;\n  });\n  return {\n    props: {\n      posts: finalPosts,\n    },\n    revalidate: 10,\n  };\n}\n\nexport default allPosts;\n"]},"metadata":{},"sourceType":"module"}
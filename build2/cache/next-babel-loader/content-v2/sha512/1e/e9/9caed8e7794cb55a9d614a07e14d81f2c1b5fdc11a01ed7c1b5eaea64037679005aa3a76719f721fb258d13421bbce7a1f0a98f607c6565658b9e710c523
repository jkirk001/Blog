{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport styles from \"./Search.module.css\";\nimport { useEffect, useState } from \"react\";\nimport SearchResults from \"./SearchResults/SearchResults\";\n\nconst Search = props => {\n  const {\n    0: searchInput,\n    1: setSearchInput\n  } = useState(\"\");\n  const {\n    0: searchResult,\n    1: setSearchResult\n  } = useState([]);\n  const {\n    0: searchTimeout,\n    1: setSearchTimeout\n  } = useState(0);\n  useEffect(() => {\n    if (searchTimeout) {\n      clearTimeout(searchTimeout);\n    }\n\n    if (!props.data) return;\n    if (searchInput === \"\") return;\n    const timer = setTimeout(() => {\n      const searchResultFinal = props.data.filter((item, index) => {\n        let re = new RegExp(`\\\\b(${searchInput.toLowerCase()})\\\\b`);\n        console.log(re, item.title);\n        const found = item.title.toLowerCase().search(re);\n        console.log(found);\n        if (found === -1) return false;\n        return true;\n      });\n      setSearchResult(searchResultFinal);\n    }, 500);\n    setSearchTimeout(timer);\n    return () => clearTimeout(timer);\n  }, [searchInput]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.search,\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Search\"\n    }), /*#__PURE__*/_jsx(\"form\", {\n      className: styles.searchForm,\n      onSubmit: e => e.preventDefault(),\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: styles.searchInput,\n        placeholder: \"search for a post...\",\n        value: searchInput,\n        onChange: e => setSearchInput(e.target.value)\n      })\n    }), /*#__PURE__*/_jsx(SearchResults, {\n      results: searchResult\n    })]\n  });\n};\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}
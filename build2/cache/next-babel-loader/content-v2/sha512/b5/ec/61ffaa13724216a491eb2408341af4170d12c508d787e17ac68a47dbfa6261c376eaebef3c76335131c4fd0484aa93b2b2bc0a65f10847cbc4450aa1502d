{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Layout from \"../../Components/Layout/Layout\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { ModeContext } from \"../../Context/context\";\nimport { useRouter } from \"next/router\";\nimport styles from \"./post.module.css\";\n\nconst Post = props => {\n  const mainContext = useContext(ModeContext);\n  const router = useRouter();\n  const {\n    0: submitObj,\n    1: setSubmitObj\n  } = useState({\n    author: \"\",\n    title: \"\",\n    quip: \"\",\n    tags: [],\n    mainImg: \"\"\n  });\n  const {\n    0: numTags,\n    1: setNumTags\n  } = useState(0);\n  const {\n    0: final,\n    1: setFinal\n  } = useState();\n  useEffect(() => {\n    if (final) {\n      mainContext.submitDataSet(final);\n      router.push({\n        pathname: \"/post/check\"\n      });\n    }\n\n    return;\n  }, [final]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    const almostFinal = [];\n    let group = 0;\n\n    for (let i = 12; i < e.target.length - 1; i++) {\n      if (i % 2 === 0) {\n        almostFinal.push({\n          type: e.target[i].value\n        });\n      }\n\n      if (i % 2 === 1) {\n        almostFinal[group].content = e.target[i].value;\n        group++;\n      }\n    }\n\n    let final = _objectSpread(_objectSpread({}, submitObj), {}, {\n      body: almostFinal\n    });\n\n    setFinal(final);\n  }; //switch to switch statement\n\n\n  const mainInputCHangehandler = e => {\n    if (e.target.id === \"title\") {\n      setSubmitObj(prevState => {\n        let state = _objectSpread(_objectSpread({}, prevState), {}, {\n          title: e.target.value\n        });\n\n        return state;\n      });\n    }\n\n    if (e.target.id === \"author\") {\n      setSubmitObj(prevState => {\n        let state = _objectSpread(_objectSpread({}, prevState), {}, {\n          author: e.target.value\n        });\n\n        return state;\n      });\n    }\n\n    if (e.target.id === \"quip\") {\n      setSubmitObj(prevState => {\n        let state = _objectSpread(_objectSpread({}, prevState), {}, {\n          quip: e.target.value\n        });\n\n        return state;\n      });\n    }\n\n    if (e.target.id === \"mainImg\") {\n      setSubmitObj(prevState => {\n        let state = _objectSpread(_objectSpread({}, prevState), {}, {\n          mainImg: e.target.value\n        });\n\n        return state;\n      });\n    }\n  };\n\n  const numTagsHandler = e => {\n    setNumTags(e.target.value);\n  };\n\n  const radioHandler = e => {\n    if (e.target.checked) {\n      setSubmitObj(prevState => {\n        prevState.tags = [...prevState.tags, e.target.value];\n        return prevState;\n      });\n    }\n\n    if (!e.target.checked) {\n      setSubmitObj(prevState => {\n        prevState.tags = prevState.tags.filter(item => {\n          return item !== e.target.value;\n        });\n        return prevState;\n      });\n    }\n  }; // i guess the virtual dom sees only a few change, so it doesnt re-render items that stayw\n\n\n  let displayBodyInputs = [];\n\n  if (numTags) {\n    for (let i = 0; i < numTags; i++) {\n      displayBodyInputs.push( /*#__PURE__*/_jsxs(\"div\", {\n        style: {\n          width: \"700px\"\n        },\n        children: [/*#__PURE__*/_jsxs(\"select\", {\n          children: [/*#__PURE__*/_jsx(\"option\", {\n            value: \"p\",\n            children: \"p\"\n          }), /*#__PURE__*/_jsx(\"option\", {\n            value: \"img\",\n            children: \"img\"\n          }), /*#__PURE__*/_jsx(\"option\", {\n            value: \"code\",\n            children: \"code\"\n          }), /*#__PURE__*/_jsx(\"option\", {\n            value: \"sub\",\n            children: \"sub-title\"\n          })]\n        }), /*#__PURE__*/_jsx(\"textarea\", {\n          style: {\n            minWidth: \"700px\",\n            maxWidth: \"700px\"\n          },\n          id: `bi${i}`,\n          type: \"text\"\n        })]\n      }));\n    }\n  }\n\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: styles.postContainer,\n      children: /*#__PURE__*/_jsxs(\"form\", {\n        onSubmit: submitHandler,\n        className: styles.form,\n        children: [/*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"title\",\n          children: \"Author \"\n        }), /*#__PURE__*/_jsxs(\"select\", {\n          id: \"author\",\n          onChange: mainInputCHangehandler,\n          value: submitObj.author,\n          children: [/*#__PURE__*/_jsx(\"option\", {\n            value: \"\"\n          }), /*#__PURE__*/_jsx(\"option\", {\n            value: \"jon\",\n            children: \"Jon\"\n          }), /*#__PURE__*/_jsx(\"option\", {\n            value: \"mikey\",\n            children: \"Mikey\"\n          })]\n        }), /*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title \"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          id: \"title\",\n          type: \"text\",\n          placeholder: \"title\",\n          value: submitObj.title,\n          onChange: mainInputCHangehandler\n        }), /*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"title\",\n          children: \"Quip \"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          id: \"quip\",\n          type: \"text\",\n          placeholder: \"quip\",\n          value: submitObj.quip,\n          onChange: mainInputCHangehandler\n        }), /*#__PURE__*/_jsx(\"label\", {\n          htmlFor: \"mainImg\",\n          children: \"Main Img \"\n        }), /*#__PURE__*/_jsx(\"input\", {\n          id: \"mainImg\",\n          type: \"text\",\n          placeholder: \"mainImg\",\n          value: submitObj.mainImg,\n          onChange: mainInputCHangehandler\n        }), /*#__PURE__*/_jsx(\"input\", {\n          id: \"hidden\",\n          type: \"hidden\"\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: styles.techs,\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"react\",\n            children: \"React\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"React\",\n            id: \"react\",\n            onChange: radioHandler\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"next\",\n            children: \"Next\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"Next\",\n            id: \"next\",\n            onChange: radioHandler\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"node\",\n            children: \"Node\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"Node\",\n            id: \"node\",\n            onChange: radioHandler\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"js\",\n            children: \"JS\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"JS\",\n            id: \"js\",\n            onChange: radioHandler\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"express\",\n            children: \"Express\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"Express\",\n            id: \"express\",\n            onChange: radioHandler\n          }), /*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"mongo\",\n            children: \"Mongo\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"checkbox\",\n            value: \"Mongo\",\n            id: \"mongo\",\n            onChange: radioHandler\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          children: [/*#__PURE__*/_jsx(\"label\", {\n            htmlFor: \"numTags\",\n            children: \"How many Tags?\"\n          }), /*#__PURE__*/_jsx(\"input\", {\n            id: \"numTags\",\n            type: \"number\",\n            min: \"0\",\n            onChange: numTagsHandler\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: displayBodyInputs\n        }), /*#__PURE__*/_jsx(\"button\", {\n          children: \"Submit Form\"\n        })]\n      })\n    })\n  });\n};\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}
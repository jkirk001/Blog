{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport styles from \"./Search.module.css\";\nimport { useEffect, useState } from \"react\";\nimport SearchResults from \"./SearchResults/SearchResults\";\n\nvar Search = function Search(props) {\n  var _useState = useState(\"\"),\n      searchInput = _useState[0],\n      setSearchInput = _useState[1];\n\n  var _useState2 = useState([]),\n      searchResult = _useState2[0],\n      setSearchResult = _useState2[1];\n\n  var _useState3 = useState(0),\n      searchTimeout = _useState3[0],\n      setSearchTimeout = _useState3[1];\n\n  useEffect(function () {\n    if (searchTimeout) {\n      clearTimeout(searchTimeout);\n    }\n\n    if (!props.data) return;\n    if (searchInput === \"\") return;\n    var timer = setTimeout(function () {\n      var searchResultFinal = props.data.filter(function (item, index) {\n        var re = new RegExp(\"\\\\b(\".concat(searchInput.toLowerCase(), \")\\\\b\"));\n        console.log(re, item.title);\n        var found = item.title.toLowerCase().search(re);\n        console.log(found);\n        if (found === -1) return false;\n        return true;\n      });\n      setSearchResult(searchResultFinal);\n    }, 500);\n    setSearchTimeout(timer);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [searchInput]);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.search,\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Search\"\n    }), /*#__PURE__*/_jsx(\"form\", {\n      className: styles.searchForm,\n      onSubmit: function onSubmit(e) {\n        return e.preventDefault();\n      },\n      children: /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        className: styles.searchInput,\n        placeholder: \"search for a post...\",\n        value: searchInput,\n        onChange: function onChange(e) {\n          return setSearchInput(e.target.value);\n        }\n      })\n    }), /*#__PURE__*/_jsx(SearchResults, {\n      results: searchResult\n    })]\n  });\n};\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}
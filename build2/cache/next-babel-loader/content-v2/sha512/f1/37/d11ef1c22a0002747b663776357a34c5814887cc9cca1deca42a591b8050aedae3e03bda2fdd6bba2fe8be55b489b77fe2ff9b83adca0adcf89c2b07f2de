{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js\";\nimport Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\nimport dbConnect from \"../../utils/db-connect\";\nimport Blog from \"../../Models/blogpost\";\n\nconst allPosts = props => {\n  const {\n    posts\n  } = props;\n  const display = posts.map(item => {\n    return /*#__PURE__*/_jsxDEV(LinkCardRow, {\n      data: item\n    }, item._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: display\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, this);\n};\n\nexport async function getStaticProps() {\n  await dbConnect();\n  const posts = await Blog.find({}); //stupid fix but it seems to be the one\n  //const finalPosts = JSON.parse(JSON.stringify(posts));\n  //?It cant parse non-seralizable data -- must expand nested objects, this is more explicit\n\n  const finalPosts = posts.map(item => {\n    let finalPost = item.toObject();\n    finalPost._id = finalPost._id.toString();\n    finalPost.author.date = finalPost.author.date.toString();\n    return finalPost;\n  });\n  return {\n    props: {\n      posts: finalPosts\n    },\n    revalidate: 10\n  };\n}\nexport default allPosts;","map":{"version":3,"sources":["/Users/jonathankirkpatrick/Desktop/Hired/evronBlog/evronblog/pages/allPosts/index.js"],"names":["Layout","LinkCardRow","dbConnect","Blog","allPosts","props","posts","display","map","item","_id","getStaticProps","find","finalPosts","finalPost","toObject","toString","author","date","revalidate"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,gCAAnB;AACA,OAAOC,WAAP,MAAwB,sDAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAC1B,QAAM;AAAEC,IAAAA;AAAF,MAAYD,KAAlB;AACA,QAAME,OAAO,GAAGD,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;AAClC,wBAAO,QAAC,WAAD;AAA4B,MAAA,IAAI,EAAEA;AAAlC,OAAkBA,IAAI,CAACC,GAAvB;AAAA;AAAA;AAAA;AAAA,YAAP;AACD,GAFe,CAAhB;AAGA,sBACE,QAAC,MAAD;AAAA,2BACE;AAAA,gBAAMH;AAAN;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAVD;;AAYA,OAAO,eAAeI,cAAf,GAAgC;AACrC,QAAMT,SAAS,EAAf;AACA,QAAMI,KAAK,GAAG,MAAMH,IAAI,CAACS,IAAL,CAAU,EAAV,CAApB,CAFqC,CAGrC;AACA;AAEA;;AACA,QAAMC,UAAU,GAAGP,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;AACrC,QAAIK,SAAS,GAAGL,IAAI,CAACM,QAAL,EAAhB;AACAD,IAAAA,SAAS,CAACJ,GAAV,GAAgBI,SAAS,CAACJ,GAAV,CAAcM,QAAd,EAAhB;AACAF,IAAAA,SAAS,CAACG,MAAV,CAAiBC,IAAjB,GAAwBJ,SAAS,CAACG,MAAV,CAAiBC,IAAjB,CAAsBF,QAAtB,EAAxB;AACA,WAAOF,SAAP;AACD,GALkB,CAAnB;AAMA,SAAO;AACLT,IAAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAEO;AADF,KADF;AAILM,IAAAA,UAAU,EAAE;AAJP,GAAP;AAMD;AAED,eAAef,QAAf","sourcesContent":["import Layout from \"../../Components/Layout/Layout\";\nimport LinkCardRow from \"../../Components/UI/LinkCard/LinkCardRow/LinkCardRow\";\nimport dbConnect from \"../../utils/db-connect\";\nimport Blog from \"../../Models/blogpost\";\n\nconst allPosts = (props) => {\n  const { posts } = props;\n  const display = posts.map((item) => {\n    return <LinkCardRow key={item._id} data={item} />;\n  });\n  return (\n    <Layout>\n      <div>{display}</div>\n    </Layout>\n  );\n};\n\nexport async function getStaticProps() {\n  await dbConnect();\n  const posts = await Blog.find({});\n  //stupid fix but it seems to be the one\n  //const finalPosts = JSON.parse(JSON.stringify(posts));\n\n  //?It cant parse non-seralizable data -- must expand nested objects, this is more explicit\n  const finalPosts = posts.map((item) => {\n    let finalPost = item.toObject();\n    finalPost._id = finalPost._id.toString();\n    finalPost.author.date = finalPost.author.date.toString();\n    return finalPost;\n  });\n  return {\n    props: {\n      posts: finalPosts,\n    },\n    revalidate: 10,\n  };\n}\n\nexport default allPosts;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from \"../../Components/Layout/Layout\";\nimport styles from \"./chron.module.css\";\nimport { useEffect, useState } from \"react\";\nimport LinkCardRow from \"../../Components/UI/CardDisplay/LinkCardRow/LinkCardRow\";\nimport insertionSort from \"../../utils/insertionSort\";\nimport TrailCol from \"../../Components/UI/Animations/Trail-Col\";\n\nvar chron = function chron(props) {\n  var _useState = useState(),\n      display = _useState[0],\n      setDisplay = _useState[1];\n\n  var _useState2 = useState(),\n      year = _useState2[0],\n      setYear = _useState2[1];\n\n  var _useState3 = useState(),\n      month = _useState3[0],\n      setMonth = _useState3[1];\n\n  var _useState4 = useState(true),\n      open = _useState4[0],\n      set = _useState4[1];\n\n  useEffect(function () {\n    //get isnertion sort to work correctly\n    var orderedArr = insertionSort(props.posts);\n    var filteredArray = orderedArr.filter(function (item, index) {\n      return parseInt(item.date.year) === parseInt(year);\n    });\n\n    if (month) {\n      var filteredArrayMonth = filteredArray.filter(function (item, index) {\n        return parseInt(item.date.month - 1) === parseInt(month);\n      });\n      setDisplay(filteredArrayMonth.reverse());\n      return;\n    } //setDisplay(filteredArray);\n\n\n    setDisplay(filteredArray.reverse());\n  }, [year, month]);\n\n  var yearHandler = function yearHandler(e) {\n    if (e.target.id === month) return;\n\n    if (month) {\n      set(false);\n      setTimeout(function () {\n        setMonth();\n        setYear(e.target.id);\n        set(true);\n      }, 700);\n    }\n\n    if (!month) {\n      set(false);\n      setTimeout(function () {\n        setYear(e.target.id);\n        set(true);\n      }, 700);\n    }\n  };\n\n  var monthHandler = function monthHandler(e) {\n    if (e.target.id === month) return;\n\n    if (e.target.id !== month) {\n      set(false);\n      setTimeout(function () {\n        setMonth(e.target.id);\n        set(true);\n      }, 700);\n    }\n  };\n\n  var content = /*#__PURE__*/_jsx(\"p\", {\n    children: \"Nothing seems to be here :(\"\n  });\n\n  if (display && display.length) {\n    content = display.map(function (item, index) {\n      return /*#__PURE__*/_jsx(LinkCardRow, {\n        data: item\n      }, index);\n    });\n  }\n\n  var monthSpelled = [\"Jan\", \"Feb\", \"March\", \"April\", \"May\", \"June\", \"July\", \"Aug\", \"Sept\", \"Oct\", \"Nov\", \"Dec\"];\n  var monthButton = monthSpelled.map(function (item, index) {\n    return /*#__PURE__*/_jsx(\"button\", {\n      className: month === String(index) ? styles.monthButtonSelected : styles.monthButton,\n      id: index,\n      onClick: monthHandler,\n      children: item\n    }, index);\n  });\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      className: styles.dateSection,\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: styles.yearButtons,\n        children: [/*#__PURE__*/_jsx(\"button\", {\n          className: year === \"2021\" ? styles.yearRadioSelected : styles.yearRadio,\n          type: \"radio\",\n          id: \"2021\",\n          onClick: yearHandler,\n          children: \"2021\"\n        }), /*#__PURE__*/_jsx(\"button\", {\n          className: year === \"2020\" ? styles.yearRadioSelected : styles.yearRadio,\n          id: \"2020\",\n          onClick: yearHandler,\n          children: \"2020\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: styles.monthButtons,\n        children: year ? monthButton : null\n      })]\n    }), /*#__PURE__*/_jsx(\"section\", {\n      className: styles.contentContainer,\n      children: /*#__PURE__*/_jsx(TrailCol, {\n        open: open,\n        onClick: function onClick() {\n          return set(function (state) {\n            return !state;\n          });\n        },\n        children: content\n      })\n    })]\n  });\n}; //!Need to find a way to manupulate date in server end\n\n\nexport var __N_SSG = true;\nexport default chron;","map":null,"metadata":{},"sourceType":"module"}